{{/*  {{ warnf "HOOK: lang=%q title=%q hl=%q attr=%q" .Type .Attributes.title .Attributes.hl .Attributes }}  */}}

{{ $lang := .Type | default "text" }}
{{ $title := .Attributes.title | default "" }}
{{ $hl_lines := .Attributes.hl | default "" }}

<figure class="highlight">
  {{ with $title }}<figcaption>{{ . }}</figcaption>{{ end }}
  <pre class="language-{{ $lang }}" {{ with $hl_lines }}data-line="{{ . }}"{{ end }}><code>{{ .Inner | safeHTML }}</code></pre>
</figure>
